<!doctype html>	
<html ng-app>
<head>
	<title>All answers</title>
	<script type="text/javascript" src="../external_libs/angular.min.js"></script>
	<script type="text/javascript" src="../external_libs/jquery.min.js"></script>
	<script type="text/javascript" src="../external_libs/bootstrap/js/bootstrap.js"></script>
	<script type="text/javascript" src="../js/seeAnswers.js"></script>
	<link href="../css/bootstrapModify.css" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="../external_libs/bootstrap/css/bootstrap.min.css">
</head>
<body>
	<div ng-controller="AnswerCtrl">
		<table class="table table-hover">
			<thead>
				<tr>
					<th>Id</th>
					<th>Sivilstatus</th>
					<th>På hodet</th>
					<th>Alder</th>
					<th>Studiested</th>
					<th>Programmeringsstil</th>
					<th>Musikk</th>
					<th>Personlighet</th>
					<th>Hype-preferanse</th>
					<th>Favorittgode</th>
					<th>Planer for kvelden</th>
					<th>Premie hvis du vinner</th>
					<th>Kjønn</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="answer in answers" ng-class="{danger : answer.processed === 0, success : answer.processed === 1}">
					<td>{{answer.id_answers}}</td>
					<td>{{answer.sivilstatus}}</td>
					<td>{{answer.pa_hodet}}</td>
					<td>{{answer.alder}}</td>
					<td>{{answer.studiested}}</td>
					<td>{{answer.programmeringsstil}}</td>
					<td>{{answer.musikk}}</td>
					<td>{{answer.personlighet}}</td>
					<td>{{answer.hypepreferanse}}</td>
					<td>{{answer.favorittgode}}</td>
					<td>{{answer.planerforkvelden}}</td>
					<td>{{answer.premiehvisduvinner}}</td>
					<td>{{answer.kjonn}}</td>
					<td>
						<!-- Button trigger modal -->
						<button class="btn btn-primary" data-toggle="modal" data-target="#myModal{{answer.id_answers}}">
							Behandle svar
						</button>

						<!-- Modal -->
						<div class="modal fade" id="myModal{{answer.id_answers}}" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
							<div class="modal-dialog">
								<div class="modal-content">
									<div ng-class = "{'modal-header': true, 'modal-custom-female': answer.kjonn==='kvinne', 'modal-custom-male': answer.kjonn ==='mann'}">
										<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
										<h4 class="modal-title" id="myModalLabel">Svar: {{answer.id_answers}}</h4>
									</div>
									<div class="modal-body">
										<b>Sivilstatus:</b> {{answer.sivilstatus}}<br>
										<b>På hodet: </b> {{answer.pa_hodet}}<br>
										<b>Alder: </b> {{answer.alder}}<br>
										<b>Studiested: </b> {{answer.studiested}}<br>
										<b>Programmeringsstil: </b> {{answer.programmeringsstil}}<br>
										<b>Musikk: </b> {{answer.musikk}}<br>
										<b>Personlighet: </b> {{answer.personlighet}}<br>
										<b>Hype-preferanse: </b> {{answer.hypepreferanse}}<br>
										<b>Favorittgode: </b> {{answer.favorittgode}}<br>
										<b>Planer for kvelden: </b> {{answer.planerforkvelden}}<br>
										<b>Premie hvis du vinner: </b> {{answer.premiehvisduvinner}}<br>
									</div>
									<div class="modal-footer">
										<form action="{{'/updateAnswerStatus/' + answer.id_answers}}" method="post">
											<button type="button" class="btn btn-default" data-dismiss="modal">Lukk</button>
											<button ng-show="answer.processed === 0" type="submit" class="btn btn-primary" >Merk som behandlet</button>
											<button ng-show="answer.processed === 1" type="submit" class="btn btn-primary" >Merk som ubehandlet</button>
										</form>
									</div>
								</div>
							</div>
						</div>
					</td>
				</tr>
			</tbody>
		</table>
		<form action="/public/html/index.html" method="get">
			<button type="submit" button name="backToMenu" class="btn btn-primary">
				<span class="glyphicon glyphicon-home">
				</span>
				Tilbake til meny
			</button>
		</form>
	</div>
</body>
</html>